<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Detail Video - Vid18+</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="detail.css" />
</head>
<body>

  <!-- Header -->
  <header class="main-header">
    <div class="header-container">
      <div class="logo">
        <h1>Vid18+</h1>
      </div>
    </div>
  </header>

  <!-- Main -->
  <main class="main-content">
    <div class="detail-container">

      <!-- Tombol Kembali -->
      <button class="back-btn" onclick="window.location.href='index.html'">
        ← Kembali
      </button>

      <!-- Banner 1 -->
      <div class="ad-banner">
        <script type="text/javascript">
          atOptions = {
            'key' : '817fc1b491510c6a8e09a78db3eb483e',
            'format' : 'iframe',
            'height' : 50,
            'width' : 320,
            'params' : {}
          };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/817fc1b491510c6a8e09a78db3eb483e/invoke.js"></script>
      </div>

      <!-- Video & Pre-roll container -->
      <div class="video-container" style="position: relative;">
        <!-- Pre-roll ad overlay -->
        <div id="preroll-ad-container" style="position: absolute; top:0; left:0; width:100%; height:100%; background:#000; z-index:10; display:none;">
          <video id="preroll-video" width="100%" height="100%" autoplay muted></video>
          <button id="skip-preroll-btn" style="position:absolute; top:10px; right:10px; z-index:20; padding:5px 10px; background:#fff; border:none; cursor:pointer; display:none;">Lewati Iklan</button>
        </div>

        <!-- Main video -->
        <video id="video-player" class="video-player" controls></video>
      </div>

      <!-- Banner 2 -->
      <div class="ad-banner">
        <script type="text/javascript">
          atOptions = {
            'key' : '817fc1b491510c6a8e09a78db3eb483e',
            'format' : 'iframe',
            'height' : 50,
            'width' : 320,
            'params' : {}
          };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/817fc1b491510c6a8e09a78db3eb483e/invoke.js"></script>
      </div>

      <!-- Info Video -->
      <div class="video-info">
        <h1 id="video-title" class="video-title">Judul Film</h1>
        <div class="video-meta">
          <span id="video-views">▶ 0 penonton</span>
          <span id="video-category">Kategori</span>
        </div>
        <p id="video-description"></p>
      </div>

      <!-- Banner 3 -->
      <div class="ad-banner">
        <script type="text/javascript">
          atOptions = {
            'key' : '817fc1b491510c6a8e09a78db3eb483e',
            'format' : 'iframe',
            'height' : 50,
            'width' : 320,
            'params' : {}
          };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/817fc1b491510c6a8e09a78db3eb483e/invoke.js"></script>
      </div>

      <!-- Related Videos -->
      <section class="related-videos">
        <h2 class="section-title">Video Lainnya</h2>
        <div id="related-grid" class="movies-grid"></div>
      </section>

      <!-- Banner 4 -->
      <div class="ad-banner">
        <script type="text/javascript">
          atOptions = {
            'key' : '817fc1b491510c6a8e09a78db3eb483e',
            'format' : 'iframe',
            'height' : 50,
            'width' : 320,
            'params' : {}
          };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/817fc1b491510c6a8e09a78db3eb483e/invoke.js"></script>
      </div>

    </div>
  </main>

  <!-- POPUNDER -->
  <script>
  document.addEventListener("click", function popAdOnce() {
      window.open("//pl28053454.effectivegatecpm.com/a9/88/3f/a9883f0a4a1e79d5a54609491435ce4a.js", "_blank");
      document.removeEventListener("click", popAdOnce);
  });
  </script>

  <!-- Script Pre-roll & Post-roll Ads -->
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const mainVideo = document.getElementById('video-player');
    const prerollContainer = document.getElementById('preroll-ad-container');
    const prerollVideo = document.getElementById('preroll-video');
    const skipBtn = document.getElementById('skip-preroll-btn');

    // Contoh link pre-roll ad (bisa diganti dengan link Homely-Pass)
    const prerollSrc = 'https://homely-pass.com/d.m/F_zKd/GeNTvbZ/GaUv/BeIm/9guAZoUhlzkhPUTfYt3/M/DRMc4oM/DDYgt/NmjScgwnM/zBgawuNuwk';

    // Contoh link post-roll ad (bisa disesuaikan)
    const postrollSrc = 'https://homely-pass.com/d.m/POSTROLL_LINK_CONTOH';

    // Pre-roll
    mainVideo.pause();
    prerollVideo.src = prerollSrc;
    prerollContainer.style.display = 'block';

    // Tampilkan skip button setelah 5 detik
    prerollVideo.addEventListener('timeupdate', () => {
      if (prerollVideo.currentTime >= 5) {
        skipBtn.style.display = 'block';
      }
    });

    // Skip button
    skipBtn.addEventListener('click', () => {
      prerollContainer.style.display = 'none';
      mainVideo.play();
    });

    // Setelah pre-roll selesai
    prerollVideo.addEventListener('ended', () => {
      prerollContainer.style.display = 'none';
      mainVideo.play();
    });

    // Post-roll
    mainVideo.addEventListener('ended', () => {
      if (mainVideo.duration >= 300) { // minimal 5 menit
        prerollVideo.src = postrollSrc;
        prerollContainer.style.display = 'block';
        skipBtn.style.display = 'none';
        prerollVideo.play();
        prerollVideo.addEventListener('ended', () => {
          prerollContainer.style.display = 'none';
        }, { once: true });
      }
    });
  });
  </script>

  <script type="module" src="detail.js"></script>
</body>
</html>